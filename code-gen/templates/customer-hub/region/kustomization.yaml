kind: Kustomization
apiVersion: kustomize.config.k8s.io/v1beta1

resources:
- ../base
- custom-resources

generatorOptions: {}

# PingCloud services
# Pingcloud-metadata
#- name: pingcloud-metadata-environment-variables
#  behavior: merge
#  envs:
#  - ../base/env_vars
#  - env_vars

# Pingcloud-healthcheck
#- name: pingcloud-healthcheck-environment-variables
#  behavior: merge
#  envs:
#  - ../base/env_vars
#  - env_vars

configMapGenerator:
- behavior: merge
  envs:
  - logging/env_vars
  name: elk-environment-variables
- behavior: merge
  envs:
  - ../base/env_vars
  - env_vars
  name: prometheus-environment-variables
- envs:
  - pingcentral/env_vars
  name: pingcentral-last-update-config
  namespace: ${PING_CLOUD_NAMESPACE}
- behavior: merge
  envs:
  - ../base/env_vars
  - env_vars
  - pingcentral/env_vars
  name: pingcentral-environment-variables
- envs:
  - pingaccess-was/admin/env_vars
  name: pingaccess-was-admin-last-update-config
  namespace: ${PING_CLOUD_NAMESPACE}
- envs:
  - pingaccess-was/engine/env_vars
  name: pingaccess-was-last-update-config
  namespace: ${PING_CLOUD_NAMESPACE}
- behavior: merge
  envs:
  - ../base/env_vars
  - env_vars
  - pingaccess-was/admin/env_vars
  name: pingaccess-was-admin-environment-variables
- behavior: merge
  envs:
  - ../base/env_vars
  - env_vars
  - pingaccess-was/engine/env_vars
  name: pingaccess-was-environment-variables
- behavior: merge
  envs:
  - ../base/env_vars
  - env_vars
  name: p14c-oauth-service-environment-variables
- behavior: merge
  envs:
  - ../base/env_vars
  - env_vars
  name: p14c-bom-service-environment-variables
- behavior: merge
  envs:
  - ../base/env_vars
  - env_vars
  name: pingcloud-p14c-bootstrap-environment-variables
- behavior: merge
  envs:
  - ../base/cluster-tools/git-ops/env_vars
  - git-ops/env_vars
  name: argocd-bootstrap
  namespace: argocd
- behavior: merge
  envs:
  - ../base/cluster-tools/health/env_vars
  - ../base/env_vars
  - env_vars
  name: cluster-health-environment-variables
  namespace: health
patches:
- patch: custom-patches.yaml
- path: ../base/ping-cloud/pingcommon/my-ping/remove-pingone-configurator.yaml
- path: ../base/cluster-tools/health/remove-from-primary-patch.yaml
- path: ../base/cluster-tools/health/remove-from-secondary-patch.yaml
- path: ../base/cluster-tools/monitoring/remove-chub-dashboards.yaml
- path: ../base/cluster-tools/logging/remove-chub-dashboards.yaml
- path: ../base/ping-cloud/pingaccess-was/admin/remove-from-secondary-patch.yaml
- path: ../base/ping-cloud/pingcentral/server/remove-from-secondary-patch.yaml
- patch: ../base/cluster-tools/monitoring/remove-from-secondary-patch.yaml
- patch: ../base/cluster-tools/logging/remove-from-secondary-patch.yaml
