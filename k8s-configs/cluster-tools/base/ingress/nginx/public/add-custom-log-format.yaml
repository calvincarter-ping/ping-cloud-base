- op: add
  path: /data
  value:
    log-format-upstream: '$remote_addr $host $remote_user [$time_local] "$request" $status $body_bytes_sent "$http_referer" "$http_user_agent" $request_length $request_time [$proxy_upstream_name] [$proxy_alternative_upstream_name] $upstream_addr $upstream_response_length $upstream_response_time $upstream_status $req_id'
    proxy-snippet: |
      # Block PingAccess or PingFederate heartbeat endpoints.
      # Only block successful 200 status codes. Do nothing in the event of an error.
      if ($request_uri ~* "^/(pa|pf)/heartbeat\.ping") {
        body_filter_by_lua_block { if ngx.status == ngx.HTTP_OK then ngx.arg[1] = '{}'; ngx.arg[2] = true; end }
      }